{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="card p-4 shadow-sm">
<h1>Welcome, {{ profile.user.username }}!</h1>

<!-- Display profile details -->
<p><strong>First Name:</strong> {{ profile.first_name }}</p>
<p><strong>Last Name:</strong> {{ profile.last_name }}</p>
<p><strong>Email:</strong> {{ profile.user.email }}</p>  
<p><strong>Birth Date:</strong> {{ profile.birth_date }}</p>
<p><strong>Address:</strong> {{ profile.address }}</p>
<p><strong>Phone Number:</strong> {{ profile.phone_number }}</p>

<!-- Display date joined -->
<p><strong>Date Joined:</strong> {{ profile.user.date_joined|date:"F j, Y" }}</p>

<!-- Link to edit profile -->
<a href="{% url 'edit_profile' %}">Edit Profile</a>

<!-- Link to change password -->
<a href="{% url 'account_change_password' %}">Change Password</a>

<!-- Logout button -->
<form action="{% url 'account_logout' %}" method="POST">
    {% csrf_token %}
    <button type="submit">Logout</button>
</form>

<!-- Display recent activity -->
{% if profile.user.bookings.all %}
    <h3>Recent Bookings:</h3>
    <ul>
    {% for booking in profile.user.bookings.all %}
        <li>{{ booking.booking_date }} - {{ booking.number_of_guests }} guests</li>
    {% endfor %}
    </ul>
{% else %}
    <p>No recent bookings.</p>
{% endif %}
</div>
</div>
{% endblock %}